<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin:0;
			padding:0;
		}
		#box{
			margin-left:400px;
		}
		.box{
			width:500px;
			height:300px;
			margin-bottom: 20px;
		}
		img{
			width:100%;
			height:100%;
		}
	</style>
</head>
<body>
	<div id="box" v-no1>
		<div v-for="i in 20" class="box">
			<img src="" u_src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1576074688987&di=19aff1031d3a172378dc7f64fbfd3cb1&imgtype=0&src=http%3A%2F%2Fa.hiphotos.baidu.com%2Fimage%2Fpic%2Fitem%2F838ba61ea8d3fd1fc9c7b6853a4e251f94ca5f46.jpg">
		</div>
	</div>
</body>
</html>
<script src="vue.js"></script>
<script>
	Vue.directive('no1',{
		bind(){

		},
		inserted(dom){
			console.log(dom)
			var div=dom.getElementsByClassName('box')
			var img=dom.getElementsByTagName('img')
			for(var i=0;i<3;i++){
				img[i].src=img[0].getAttribute('u_src')
			}
			onscroll=function(){
				
				var top=document.documentElement.scrollTop
				var height=document.documentElement.clientHeight/2;
				console.log(img[0].getAttribute('u_src'))
				console.log(img)
				for(var i=0;i<img.length;i++){
					if(img[i].offsetTop<top+height){
						
							img[i].src=img[0].getAttribute('u_src')
						
						
					}else{
						if(i>1){
							img[i].src=''
						}
						
					}
				}
			}
		}
	})
	new Vue({
		el:'#box'

	})
</script>